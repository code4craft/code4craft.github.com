---
layout: post
title: "创业公司指南之办公室网络checklist"
date: 2016-11-26 20:33
comments: true
categories: 
---

![](/images/posts/netwire.jpg)

作为软件出身的程序员，我觉得有可能大部分人在创业过程中遇到的最大的难题，不是缺运维，不是缺测试，而是缺网管！运营的妹子又来问你：“网络又连不上了，怎么办”，你该怎么回答？甚至自己有的时候也会抱怨：“怎么网又连不上了”！

作为兼职了一年网管的程序员，却依旧停留在“把路由器重启一下”的阶段，觉得还是要补充一下基础知识，所以就有了这篇文章。

<!--more-->

一般来说，在网络层面，TCP层往上都是程序员能解决的领域，所以让我们从路由器开始说起。另外，OSI七层模型不熟的可以去复习一下基础。

## IP层

### 路由器

我记得有个经典的问题叫做：“路由器和交换机有什么区别？”其实当时也不清楚，现在想起来，最大的区别应该是：一个工作在网络层（OSI第三层），一个工作在数据链路层(OSI第二层)。一般路由器和交换机都是内置处理器，而越是上层，计算性能消耗越大，所以路由器是重点。不要图便宜，买个贵点的路由器，一般都会有能承载的设备数，买个合适的就行了。

另外路由器如果有流量统计和限流，会方便很多，大致限一下流还是要的。

## 链路/物理层

### 有线

我们一般用的网线学名叫双绞线。夹水晶头似乎是网管必备技能，我们常用的水晶头有个标准叫RJ45，大致就是按顺序把线排上去，再用夹线钳夹上就可以了。一般我们都是排的直通线，排线的颜色顺序是橙白、橙；绿白、蓝；蓝白、绿；棕白、棕。其实不按颜色来，只要两边顺序一致也是可以用的。

一般有线连不上的原因都是：网线松了，买好的水晶头挺重要的。

对了网线测试器也挺有用的，京东30多块一个，30块你买了不吃亏，30块你买了不上当。

### 无线

无线其实有一系列标准，例如802.11b/g/n，其中b/g是2.4G，n是5G，比较新的路由器会支持802.11ac，这样叫做5G。

对于同一个制式的同一个信道，总体速率都是恒定的，例如802.11g就是54M，哪怕你有多个SSID，或者多个无线路由也一样！所以必须同一个区域的多个API，选择不干扰的信道，否则其实加路由器也没什么用。对于最常用的802.11g，可以有13个信道可选，1、6、11是互不干扰的，另外也可以是2.4G和5G混用，效果会好一些。

无线的信号强度有个衡量标准叫dBm，一般是负的。注意dBm其实是10logP，P是功率，所以dBm减小，功率是指数级衰减的，-30dBm还挺好，到了-70dBm之后的应该很难连得上了。

另外安卓手机有个叫Wifi分析仪的神器，可以分析无线的信号强度，以及信道的拥挤程度，有个这个，同事问你为什么连不上无线的时候，依据也会多一些。